@if (cargando) {
  <div class="text-center my-5">
    <div class="spinner-border text-light" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
  </div>
}
@else {
  <div class="container-fluid py-5"
       style="background: linear-gradient(135deg, #0077b6, #00b48a); min-height: 100vh;">

    <div class="container px-4 px-md-5">
      <div class="card shadow-lg mx-auto p-4"
           style="max-width: 700px; min-height: 85vh; background-color: rgba(0,0,0,0.6); color: #f8f9fa; border-radius: 1rem;">

        <h1 class="fw-bold mb-3 text-center">{{ curso.nombre }}</h1>
        <p class="lead mb-4 text-center">{{ curso.descripcion }}</p>

        <div class="row mb-3">
          <div class="col-6">
            <strong>Fecha Inicio:</strong><br> {{ curso.fechaInicio | date:"dd - MM - yyyy" }}
          </div>
          <div class="col-6">
            <strong>Fecha Fin:</strong><br> {{ curso.fechaFin | date:"dd - MM - yyyy" }}
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-6">
            <strong>Estado:</strong><br> {{ curso.estado }}
          </div>
          <div class="col-6">
            <strong>Zona:</strong><br> {{ curso.zona }}
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-6">
            <strong>Monitor:</strong><br> {{ curso.nombreMonitor }}
          </div>
          <div class="col-6">
            <strong>Aforo:</strong>
            <span class="badge me-2" [ngClass]="aforo">
              {{ curso.plazasLibres }} / {{ curso.aforoMaximo }} plazas
            </span>
          </div>
        </div>

        <div class="mb-3">
          <strong>Mínimo asistencia:</strong><br> {{ curso.minimoAsistencia }}
        </div>

        <div class="mb-4">
          <strong>Precio:</strong><br>
          <span class="fs-3 fw-bold text-success">
            {{ curso.precio | currency:'EUR' }}
          </span>
        </div>

        <div class="card bg-dark bg-opacity-50 border border-info mb-4 p-3">
        <h4 class="text-info mb-3"><i class="bi bi-calendar-week"></i> Planificación</h4>

        @if (planificaciones().length > 0) {
            <ul class="list-group">
            @for (p of planificaciones(); track p.idPlanificacion) {
                <li class="list-group-item bg-transparent text-light border-info rounded mb-1">
                <strong>{{ p.diaSemana }}</strong>: {{ p.horaInicio.substring(0, 5) }} - {{ p.horaFin.substring(0, 5) }}
                </li>
            }
            </ul>
        } @else {
            <p class="text-light">No hay planificación disponible.</p>
        }
        </div>

        <div class="card bg-dark bg-opacity-50 border border-warning mb-4 p-3">
        <h4 class="text-warning mb-3"><i class="bi bi-people-fill"></i> Asistentes</h4>

        @if (inscripciones().length > 0) {
            <ul class="list-group">
            @for (i of inscripciones(); track i.idInscripcion) {
                <li class="list-group-item bg-transparent text-light border-warning rounded mb-1">
                {{ i.nombreUsuario }} {{ i.apellidosUsuario }}
                </li>
            }
            </ul>
        } @else {
            <p class="text-light">No hay asistentes inscritos.</p>
        }
        </div>

        <div class="text-center mt-4">
          <a routerLink="/monitor/" class="btn btn-outline-light">Volver a mis cursos</a>
        </div>

      </div>
    </div>
  </div>
}

